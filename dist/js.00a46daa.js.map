{"version":3,"sources":["js/images.js","js/variables.js","js/index.js"],"names":["preview","original","description","galleryList","document","querySelector","overlayDiv","lightboxOverlay","image","btnClose","itemEl","listEl","galleryItems","map","join","insertAdjacentHTML","addEventListener","onGalleryOpen","evt","preventDefault","classList","add","src","target","dataset","source","alt","window","onEscBtnPress","arrowSlider","onGalleryClose","remove","removeEventListener","ESC","code","onGalleryMissClick","nextIndex","currentIndex","indexOf","find","item","key","length"],"mappings":"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","file":"js.00a46daa.js","sourceRoot":"..","sourcesContent":["export default [\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg\",\r\n    description: \"Hokkaido Flower\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg\",\r\n    description: \"Container Haulage Freight\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg\",\r\n    description: \"Aerial Beach View\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg\",\r\n    description: \"Flower Blooms\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg\",\r\n    description: \"Alpine Mountains\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg\",\r\n    description: \"Mountain Lake Sailing\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg\",\r\n    description: \"Alpine Spring Meadows\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg\",\r\n    description: \"Nature Landscape\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg\",\r\n    description: \"Lighthouse Coast Sea\",\r\n  },\r\n];\r\n","export const galleryList = document.querySelector(\".js-gallery\");\r\nexport const overlayDiv = document.querySelector(\".js-lightbox\");\r\nexport const lightboxOverlay = document.querySelector(\".lightbox__overlay\");\r\nexport const image = document.querySelector(\".lightbox__image\");\r\nexport const btnClose = document.querySelector(\r\n  '[data-action=\"close-lightbox\"]'\r\n);\r\n","import galleryItems from \"./images.js\";\r\nimport {\r\n  galleryList,\r\n  overlayDiv,\r\n  lightboxOverlay,\r\n  image,\r\n  btnClose,\r\n} from \"./variables.js\";\r\n\r\n////////////////////////////////////// СОЗАНИЕ РАЗМЕТКИ ГАЛЛЕРЕИ ///////////////////////////////////////\r\n\r\nconst itemEl = ({ preview, original, description }) => {\r\n  return `<li class=\"gallery__item\">\r\n            <a href=\"\" class=\"gallery__link\"> \r\n              <img class=\"gallery__image\" src=${preview} alt=${description} data-source=${original} width=\"100%\" heigth=\"100%\">\r\n            </a>\r\n          </li>`;\r\n};\r\n\r\nconst listEl = galleryItems.map(itemEl).join(\"\");\r\n\r\ngalleryList.insertAdjacentHTML(\"beforeend\", listEl);\r\n\r\n////////////////////////////////////// ОТКРЫТИЕ МОДАЛКИ ////////////////////////////////////////////////\r\n\r\ngalleryList.addEventListener(\"click\", onGalleryOpen);\r\n\r\nfunction onGalleryOpen(evt) {\r\n  evt.preventDefault();\r\n  overlayDiv.classList.add(\"is-open\");\r\n  image.src = evt.target.dataset.source;\r\n  image.alt = evt.target.dataset.alt;\r\n\r\n  window.addEventListener(\"keydown\", onEscBtnPress);\r\n  window.addEventListener(\"keydown\", arrowSlider);\r\n}\r\n\r\n////////////////////////////////////// ЗАКРЫТИЕ МОДАЛКИ ////////////////////////////////////////////////\r\n\r\nbtnClose.addEventListener(\"click\", onGalleryClose);\r\n\r\nfunction onGalleryClose() {\r\n  overlayDiv.classList.remove(\"is-open\");\r\n  image.src = \"\";\r\n\r\n  window.removeEventListener(\"keydown\", onEscBtnPress);\r\n  window.removeEventListener(\"keydown\", arrowSlider);\r\n}\r\n\r\n////////////////////////////////////// ЗАКРЫТИЕ ЭСКЕЙПОМ ///////////////////////////////////////////////\r\n\r\nfunction onEscBtnPress(evt) {\r\n  const ESC = \"Escape\";\r\n  if (evt.code === ESC) {\r\n    onGalleryClose();\r\n  }\r\n}\r\n\r\n////////////////////////////////////// ЗАКРЫТИЕ МИСКЛИКОМ /////////////////////////////////////////////\r\n\r\nlightboxOverlay.addEventListener(\"click\", onGalleryMissClick);\r\n\r\nfunction onGalleryMissClick() {\r\n  if (lightboxOverlay) {\r\n    onGalleryClose();\r\n  }\r\n}\r\n\r\n////////////////////////////////////// СКРОЛЛ СТРЕЛКАМИ //////////////////////////////////////////////\r\n\r\nfunction arrowSlider(evt) {\r\n  let nextIndex = 0;\r\n\r\n  const currentIndex = galleryItems.indexOf(\r\n    galleryItems.find((item) => item.description === image.alt)\r\n  );\r\n\r\n  if (evt.key === \"ArrowRight\") {\r\n    nextIndex = currentIndex < galleryItems.length - 1 ? currentIndex + 1 : 0;\r\n  }\r\n  if (evt.key === \"ArrowLeft\") {\r\n    nextIndex = currentIndex > 0 ? currentIndex - 1 : galleryItems.length - 1;\r\n  }\r\n\r\n  image.src = galleryItems[nextIndex].original;\r\n  image.alt = galleryItems[nextIndex].description;\r\n}\r\n"]}