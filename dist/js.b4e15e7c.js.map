{"version":3,"sources":["js/images.js","js/variables.js","js/index.js"],"names":["preview","original","description","galleryList","document","querySelector","overlayDiv","lightboxOverlay","image","btnClose","itemEl","listEl","galleryItems","map","join","onGalleryOpen","evt","preventDefault","classList","add","src","target","dataset","source","alt","window","addEventListener","onEscBtnPress","arrowSlider","onGalleryClose","remove","removeEventListener","code","onGalleryMissClick","nextIndex","currentIndex","indexOf","find","item","key","length","insertAdjacentHTML"],"mappings":";AAAe,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAAA,IAAA,EAAA,CACb,CACEA,QACE,uFACFC,SACE,uFACFC,YAAa,mBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,6BAEf,CACEF,QACE,wEACFC,SACE,wEACFC,YAAa,qBAEf,CACEF,QACE,0EACFC,SACE,0EACFC,YAAa,iBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,yBAEf,CACEF,QACE,2EACFC,SACE,2EACFC,YAAa,yBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,6EACFC,SACE,6EACFC,YAAa,yBA9DF,QAAA,QAAA;;ACIR,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,WAAA,QAAA,gBAAA,QAAA,MAAA,QAAA,YAAA,QAAA,cAAA,EAJA,IAAMC,EAAcC,SAASC,cAAc,eAI3C,QAAA,YAAA,EAHA,IAAMC,EAAaF,SAASC,cAAc,gBAG1C,QAAA,WAAA,EAFA,IAAME,EAAkBH,SAASC,cAAc,sBAE/C,QAAA,gBAAA,EADA,IAAMG,EAAQJ,SAASC,cAAc,oBACrC,QAAA,MAAA,EAAA,IAAMI,EAAWL,SAASC,cAC/B,kCADK,QAAA,SAAA;;ACkFN,aAtFD,IAAA,EAAA,EAAA,QAAA,gBACA,EAAA,QAAA,kBAqFC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GA3ED,IAAMK,EAAS,SAAwC,GAArCV,IAAAA,EAAAA,EAAAA,QAASC,EAAAA,EAAAA,SAAUC,EAAAA,EAAAA,YAGWF,MAAAA,6HAAAA,OAAAA,EAAeE,SAAAA,OAAAA,EAA2BD,iBAAAA,OAAAA,EAFxF,oEAOIU,EAASC,EAAaC,QAAAA,IAAIH,GAAQI,KAAK,IAQ7C,SAASC,EAAcC,GACrBA,EAAIC,iBACOC,EAAAA,WAAAA,UAAUC,IAAI,WACnBC,EAAAA,MAAAA,IAAMJ,EAAIK,OAAOC,QAAQC,OACzBC,EAAAA,MAAAA,IAAMR,EAAIK,OAAOC,QAAQE,IAE/BC,OAAOC,iBAAiB,UAAWC,GACnCF,OAAOC,iBAAiB,UAAWE,GAOrC,SAASC,IACIX,EAAAA,WAAAA,UAAUY,OAAO,WACtBV,EAAAA,MAAAA,IAAM,GAEZK,OAAOM,oBAAoB,UAAWJ,GACtCF,OAAOM,oBAAoB,UAAWH,GAKxC,SAASD,EAAcX,GACT,WACRA,EAAIgB,MACNH,IAQJ,SAASI,IACH1B,EAAJ,iBACEsB,IAMJ,SAASD,EAAYZ,GACfkB,IAAAA,EAAY,EAEVC,EAAevB,EAAawB,QAAAA,QAChCxB,EAAayB,QAAAA,KAAK,SAACC,GAASA,OAAAA,EAAKpC,cAAgBM,EAAMgB,MAAAA,OAGzC,eAAZR,EAAIuB,MACNL,EAAYC,EAAevB,EAAa4B,QAAAA,OAAS,EAAIL,EAAe,EAAI,GAE1D,cAAZnB,EAAIuB,MACNL,EAAYC,EAAe,EAAIA,EAAe,EAAIvB,EAAa4B,QAAAA,OAAS,GAGpEpB,EAAAA,MAAAA,IAAMR,EAAasB,QAAAA,GAAWjC,SAC9BuB,EAAAA,MAAAA,IAAMZ,EAAasB,QAAAA,GAAWhC,YAhEtCC,EAAYsC,YAAAA,mBAAmB,YAAa9B,GAI5CR,EAAYuB,YAAAA,iBAAiB,QAASX,GActCN,EAASiB,SAAAA,iBAAiB,QAASG,GAqBnCtB,EAAgBmB,gBAAAA,iBAAiB,QAASO","file":"js.b4e15e7c.js","sourceRoot":"..","sourcesContent":["export default [\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg\",\r\n    description: \"Hokkaido Flower\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg\",\r\n    description: \"Container Haulage Freight\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg\",\r\n    description: \"Aerial Beach View\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg\",\r\n    description: \"Flower Blooms\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg\",\r\n    description: \"Alpine Mountains\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg\",\r\n    description: \"Mountain Lake Sailing\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg\",\r\n    description: \"Alpine Spring Meadows\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg\",\r\n    description: \"Nature Landscape\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg\",\r\n    description: \"Lighthouse Coast Sea\",\r\n  },\r\n];\r\n","export const galleryList = document.querySelector(\".js-gallery\");\r\nexport const overlayDiv = document.querySelector(\".js-lightbox\");\r\nexport const lightboxOverlay = document.querySelector(\".lightbox__overlay\");\r\nexport const image = document.querySelector(\".lightbox__image\");\r\nexport const btnClose = document.querySelector(\r\n  '[data-action=\"close-lightbox\"]'\r\n);\r\n","import galleryItems from \"./images.js\";\r\nimport {\r\n  galleryList,\r\n  overlayDiv,\r\n  lightboxOverlay,\r\n  image,\r\n  btnClose,\r\n} from \"./variables.js\";\r\n\r\n////////////////////////////////////// СОЗАНИЕ РАЗМЕТКИ ГАЛЛЕРЕИ ///////////////////////////////////////\r\n\r\nconst itemEl = ({ preview, original, description }) => {\r\n  return `<li class=\"gallery__item\">\r\n            <a href=\"\" class=\"gallery__link\"> \r\n              <img class=\"gallery__image\" src=${preview} alt=${description} data-source=${original} width=\"100%\" heigth=\"100%\">\r\n            </a>\r\n          </li>`;\r\n};\r\n\r\nconst listEl = galleryItems.map(itemEl).join(\"\");\r\n\r\ngalleryList.insertAdjacentHTML(\"beforeend\", listEl);\r\n\r\n////////////////////////////////////// ОТКРЫТИЕ МОДАЛКИ ////////////////////////////////////////////////\r\n\r\ngalleryList.addEventListener(\"click\", onGalleryOpen);\r\n\r\nfunction onGalleryOpen(evt) {\r\n  evt.preventDefault();\r\n  overlayDiv.classList.add(\"is-open\");\r\n  image.src = evt.target.dataset.source;\r\n  image.alt = evt.target.dataset.alt;\r\n\r\n  window.addEventListener(\"keydown\", onEscBtnPress);\r\n  window.addEventListener(\"keydown\", arrowSlider);\r\n}\r\n\r\n////////////////////////////////////// ЗАКРЫТИЕ МОДАЛКИ ////////////////////////////////////////////////\r\n\r\nbtnClose.addEventListener(\"click\", onGalleryClose);\r\n\r\nfunction onGalleryClose() {\r\n  overlayDiv.classList.remove(\"is-open\");\r\n  image.src = \"\";\r\n\r\n  window.removeEventListener(\"keydown\", onEscBtnPress);\r\n  window.removeEventListener(\"keydown\", arrowSlider);\r\n}\r\n\r\n////////////////////////////////////// ЗАКРЫТИЕ ЭСКЕЙПОМ ///////////////////////////////////////////////\r\n\r\nfunction onEscBtnPress(evt) {\r\n  const ESC = \"Escape\";\r\n  if (evt.code === ESC) {\r\n    onGalleryClose();\r\n  }\r\n}\r\n\r\n////////////////////////////////////// ЗАКРЫТИЕ МИСКЛИКОМ /////////////////////////////////////////////\r\n\r\nlightboxOverlay.addEventListener(\"click\", onGalleryMissClick);\r\n\r\nfunction onGalleryMissClick() {\r\n  if (lightboxOverlay) {\r\n    onGalleryClose();\r\n  }\r\n}\r\n\r\n////////////////////////////////////// СКРОЛЛ СТРЕЛКАМИ //////////////////////////////////////////////\r\n\r\nfunction arrowSlider(evt) {\r\n  let nextIndex = 0;\r\n\r\n  const currentIndex = galleryItems.indexOf(\r\n    galleryItems.find((item) => item.description === image.alt)\r\n  );\r\n\r\n  if (evt.key === \"ArrowRight\") {\r\n    nextIndex = currentIndex < galleryItems.length - 1 ? currentIndex + 1 : 0;\r\n  }\r\n  if (evt.key === \"ArrowLeft\") {\r\n    nextIndex = currentIndex > 0 ? currentIndex - 1 : galleryItems.length - 1;\r\n  }\r\n\r\n  image.src = galleryItems[nextIndex].original;\r\n  image.alt = galleryItems[nextIndex].description;\r\n}\r\n"]}